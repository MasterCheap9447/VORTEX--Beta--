[gd_scene load_steps=17 format=3 uid="uid://cwd0n5hs41dfg"]

[ext_resource type="Script" uid="uid://b7i1vaqs6dpf2" path="res://assets/scripts/ENVIRONMENTAL OBJECTS/blood.gd" id="1_0r4b2"]
[ext_resource type="Shader" uid="uid://jqq7njdaxhd5" path="res://addons/trail/shaders/trail.gdshader" id="1_88mh7"]
[ext_resource type="Shader" uid="uid://c551xnrdooi38" path="res://addons/trail/shaders/trail_draw_pass.gdshader" id="2_cf812"]
[ext_resource type="Script" uid="uid://k5ck7x0rbxwj" path="res://addons/trail/GPUTrail3D.gd" id="3_0r4b2"]

[sub_resource type="PhysicsMaterial" id="PhysicsMaterial_0r4b2"]
bounce = 1.0

[sub_resource type="SphereShape3D" id="SphereShape3D_u4tbh"]
radius = 0.25

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_cf812"]
transparency = 2
alpha_scissor_threshold = 0.5
alpha_antialiasing_mode = 0
diffuse_mode = 3
specular_mode = 1
albedo_color = Color(1, 0, 0, 1)
metallic_specular = 1.0
roughness = 0.0

[sub_resource type="SphereMesh" id="SphereMesh_55gte"]
radius = 0.25
height = 0.5

[sub_resource type="SphereShape3D" id="SphereShape3D_0r4b2"]
radius = 3.0

[sub_resource type="ShaderMaterial" id="ShaderMaterial_55gte"]
shader = ExtResource("1_88mh7")

[sub_resource type="Gradient" id="Gradient_fmb5g"]
offsets = PackedFloat32Array(0)
colors = PackedColorArray(1, 0, 0, 0.588235)

[sub_resource type="GradientTexture1D" id="GradientTexture1D_p2vg3"]
gradient = SubResource("Gradient_fmb5g")

[sub_resource type="Curve" id="Curve_5ely5"]
bake_resolution = 16
_data = [Vector2(0, 1), 0.0, 0.0, 0, 0, Vector2(1, 0.1), 0.0, 0.0, 0, 0]
point_count = 2

[sub_resource type="CurveTexture" id="CurveTexture_o7862"]
curve = SubResource("Curve_5ely5")

[sub_resource type="ShaderMaterial" id="ShaderMaterial_j454n"]
resource_local_to_scene = true
render_priority = 0
shader = ExtResource("2_cf812")
shader_parameter/uv_offset = Vector2(0, 0)
shader_parameter/color_ramp = SubResource("GradientTexture1D_p2vg3")
shader_parameter/curve = SubResource("CurveTexture_o7862")
shader_parameter/emmission_transform = Projection(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1)
shader_parameter/flags = 40

[sub_resource type="QuadMesh" id="QuadMesh_0qork"]
material = SubResource("ShaderMaterial_j454n")

[node name="Blood Splash" type="RigidBody3D"]
physics_material_override = SubResource("PhysicsMaterial_0r4b2")
script = ExtResource("1_0r4b2")

[node name="collision" type="CollisionShape3D" parent="."]
shape = SubResource("SphereShape3D_u4tbh")
disabled = true

[node name="model" type="MeshInstance3D" parent="."]
material_override = SubResource("StandardMaterial3D_cf812")
mesh = SubResource("SphereMesh_55gte")

[node name="player area" type="Area3D" parent="."]

[node name="player area" type="CollisionShape3D" parent="player area"]
shape = SubResource("SphereShape3D_0r4b2")

[node name="trail" type="GPUParticles3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 0.25, 0, 0, 0, 1, 0, 0, 0)
amount = 1440
lifetime = 1440.0
explosiveness = 1.0
fixed_fps = 144
process_material = SubResource("ShaderMaterial_55gte")
draw_pass_1 = SubResource("QuadMesh_0qork")
script = ExtResource("3_0r4b2")
length = 1440
length_seconds = 10.0
color_ramp = SubResource("GradientTexture1D_p2vg3")
curve = SubResource("CurveTexture_o7862")
_defaults_have_been_set = true
metadata/_custom_type_script = "uid://k5ck7x0rbxwj"

[node name="gone particle" type="GPUParticles3D" parent="."]

[node name="half life" type="Timer" parent="."]
wait_time = 7.0
one_shot = true

[connection signal="timeout" from="half life" to="." method="_on_half_life_timeout"]
